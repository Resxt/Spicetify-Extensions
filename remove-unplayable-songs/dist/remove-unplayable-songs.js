var removeDunplayableDsongs=(()=>{async function e(e){e=await Spicetify.CosmosAsync.get("sp://core-playlist/v1/playlist/"+e[0]);if(e.playlist.allows.remove){let i=[];e.items.forEach(e=>{e.playable||i.push({uri:e.link})});var t,o,e=Spicetify.URI.fromString(e.playlist.link).getBase62Id();t=e,function(t){var o=[[]];for(let i=0;i<t.length;i+=100){let e=i+100;e>t.length&&(e=t.length),o.push(t.slice(i,e))}return o}(o=i).forEach(e=>{Spicetify.CosmosAsync.del(`https://api.spotify.com/v1/playlists/${t}/tracks`,{tracks:e}).catch(e=>{Spicetify.showNotification("Failed to remove unplayable songs. See console for more details"),console.error(e)}).then(()=>{0==o.length?Spicetify.showNotification("No unplayable songs found"):Spicetify.showNotification("Successfully removed "+o.length+" unplayable songs")})})}else Spicetify.showNotification("You are not allowed to remove songs in this playlist")}var i=async function(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(e=>setTimeout(e,100));new Spicetify.ContextMenu.Item("Remove unplayable songs",e,Spicetify.URI.isPlaylistV1OrV2,"block").register()};(async()=>{await i()})()})();