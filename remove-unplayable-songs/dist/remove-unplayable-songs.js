var removeDunplayableDsongs=(()=>{async function i(i){i=await Spicetify.CosmosAsync.get("sp://core-playlist/v1/playlist/"+i[0]);if(i.playlist.allows.remove){let e=[];i.items.forEach(i=>{i.playable||e.push({uri:i.link})});var o,i=Spicetify.URI.fromString(i.playlist.link).getBase62Id();o=e,Spicetify.CosmosAsync.del(`https://api.spotify.com/v1/playlists/${i}/tracks`,{tracks:o}).catch(i=>{Spicetify.showNotification("Failed to remove unplayable songs. See console for more details"),console.error(i)}).then(()=>{0==o.length?Spicetify.showNotification("No unplayable songs found"):Spicetify.showNotification("Successfully removed "+o.length+" unplayable songs")})}else Spicetify.showNotification("You are not allowed to remove songs in this playlist")}var e=async function(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(i=>setTimeout(i,100));new Spicetify.ContextMenu.Item("Remove unplayable songs",i,Spicetify.URI.isPlaylistV1OrV2,"block").register()};(async()=>{await e()})()})();